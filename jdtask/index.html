<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>京东签到</title>
    <style type="text/css">
    	body {
    		font-size: 30px;
    	}
    	li {
    		padding: 5px;
    	}
      a {
        color:blue;
      }
      a.visited {
        color:#551a8b;
      }
    </style>
  </head>
  <body>
  	<ul id="items">
    <li><a id="l00" target="_blank" href="http://url.cn/5yNPlX0">四月福利</a></li>

<!-- <li><a target="_blank" href="http://url.cn/5tOoAJr">5月福利</a></li> -->
<!-- <li><a id="l0" target="_blank" href="http://url.cn/5dUtEJ6">现金红包</a></li> -->
<li><a id="l1" target="_blank" href="https://bean.m.jd.com/?sid=">领金豆</a></li>
<li><a id="l2" target="_blank" href="https://m.jr.jd.com/spe/qyy/hzq/index.html?usertype=1176&lanmu&sid=#/">领钢镚</a></li>
<li><a id="l0828" target="_blank" href="https://coin.jd.com/m/gb/index.html">领钢镚1</a></li>

<li><a id="l3" target="_blank" href="https://vip.m.jd.com/?sid=">京东会员</a></li>
<!-- <li><a id="l4" target="_blank" href="https://wyyl.jd.com/static/page/html/index.html?sid=">小金库红包</a></li> -->

<li><a id="l5" target="_blank" href="https://m.jr.jd.com/activity/shactivity/payrebate/html/indexhd.html?sid=&cu=true&utm_source=kong&utm_medium=tuiguang&utm_campaign=t_1000550368_&utm_term=9518a0b6fd484b69a9e2df6e6347f05b&abt=3&tab=2">购物领京豆</a></li>

<!-- <li><a id="l6" target="_blank" href="https://union-click.jd.com/jdc?e=0&p=AyIHVCtaJQMiQwpDBUoyS0IQWhkeHAxGFkVESR1JUkpJBUkcTlcIRkVFUFdfEk9FF2JmWCFoOFJQYgcFSxh0dkFXJhIiQHBBZiwYHwtaTVIBUkRMR05aW1kCS0RLUwVOV0pcImYdbEF2eGVhMEsfaFduTlJvIl4YcndZFzUWAxIOSRpcCQMSFlUbUBAGGQJcK1sVChUFUhxaFwEiB1QaWhEGEwVSEmslAhM3HnVaJQIQBFQTWxMKFwBlG18WBBsEUB1eHAsXDmUca8CJj9Pyto2CvMa%2Bzc3OmjIiN2UraxQyEg%3D%3D&t=W1dCFFlQCxxTRAsEBwpZRxgHRQcLXkJaCAULR0dKQAEFWXV2TXMmeBxHchJXBVg6YVFCdFxiDmdRc35WX0VNXUdTHAQCUF5PCRdCBVNbRlcAFwRL">签到</a></li> -->

<!-- <li><a id="l7" target="_blank" href="http://url.cn/5W5zTlT">APP打开</a></li> -->
<li><a id="l8" target="_blank" href="https://m.jr.jd.com/spe/downloadApp/index.html?id=447&activityid=348&sid=">APP钢镚</a></li>
<li><a id="l9" target="_blank" href="https://m.jr.jd.com/spe/downloadApp/index.html?id=190&activityid=412">APP钢镚1</a></li>



<li><a id="l10" target="_blank" href="https://gamecenter.m.jd.com/?sid=">领豆</a></li>

<li><a id="l11" target="_blank" href="https://m.jr.jd.com/spe/qyy/main/index.html?userType=77&utm_source=kong&utm_medium=zssc&utm_campaign=t_1000027277_102969&utm_term=0c6d072c-88f3-448c-9d92-62c0e53951d2-p_1999-pr_1107-at_102969&jd_pop=0c6d072c-88f3-448c-9d92-62c0e53951d2&abt=0">合集</a></li>

<li><a id="l12" target="_blank" href="https://home.jdpay.com/my/welfare/jxWelfarePage?type=jingdou&source=JDSC">合集1</a></li>
<li><a id="l120" target="_blank" href="https://m.jr.jd.com/spe/downloadApp/index.html?id=736&activityid=677">京东金融打开</a></li>
<li><a id="l121" target="_blank" href="https://m.jr.jd.com/spe/downloadApp/index.html?id=447&activityid=348&sid=">京东金融打开1</a></li>
<li><a id="l121" target="_blank" href="https://m.jr.jd.com/spe/downloadApp/index.html?id=190&activityid=412">京东金融打开2</a></li>

</ul>

<script>
  document.getElementById("items").addEventListener("click",function(e){
    if(e.target.tagName==="A") {
      var a=e.target;
      a.className = "visited";
      console.info(a.id);
      taskInfo.ids.push(a.id);
      localStorage.setItem("jdtask",JSON.stringify(taskInfo));
    }
    console.info(e);
  },false);
  var taskInfo = null;
  (function(){
    var today = getToday();
    var jdtask = localStorage.getItem("jdtask");
    if(jdtask) {
      jdtask = JSON.parse(jdtask);
      if(jdtask.date == today) {
        taskInfo = jdtask;
      }
    }
    if(!taskInfo) taskInfo = initTaskInfo(today);
    showTaskInfo();
  })();

  function showTaskInfo() {
    taskInfo.ids.forEach(function(id){
      var li = document.getElementById(id);
      if(li) li.className = "visited";
    });
    //localStorage.setItem("jdtask",JSON.stringify(taskInfo));
  }

  function getToday() {
      var now = new Date();
      var today = now.getFullYear()*10000+ (now.getMonth()+1)*100+now.getDate();
      return today;
  }

  function initTaskInfo(today) {
    return {
      date:today,
      ids:[]
    };
  }


</script>

  </body>
</html>